System:
    'sos' ':' 
    systems*=SubSystem
;

SubSystem:
'subsystem' ':' name=ID
elements*=Element
;

Element:
Component | Connector 
;

Component:
LogicalComponent | PhysicalComponent | SubSystem
;

LogicalComponent: 
'component' type=LogicalComponentType name=ID
;

Connector:
'connector' type=ConnectorType from=[Component] '->' to=[Component]
;

LogicalComponentType:
'frontend' | 'backend' | 'database' | 'channel' | 'loadBalancer' | 'fileStorage'
;

ConnectorType:
'http' | 'db_connector' | 'gRPC' | 'MQTT' | 'SDK' | 'amqp' | 'CoAP' | 'gsm' | 'wire'
;

PhysicalComponent:
Sensor | Vehicle | HardwareDevice |'contenedor'
;

Sensor :
    'sensor' name=ID ('extends' superType=[Sensor])? '{'
        'type' type=TypeSensor 
    '}';

Vehicle :
    'vehicle' name=ID ('extends' superType=[Vehicle])? '{'
        'type' type=VehicleType 
    '}';


TypeSensor : 
'weightSensor' | 'velocitySensor' | 'Sensor de distancia' | 'weather station' | 'entry point'
| 'sensor de caudal'
;

VehicleType :
'truck' | 'tren' | 'barco' | 'gr√∫as'
;


HardwareDevice:
    'hardware' name=ID ('extends' superType=[HardwareDevice])? '{'
        'type' type=HardwareType
    '}';

HardwareType:
'IoT' | 'radio' | 'GPS'
;